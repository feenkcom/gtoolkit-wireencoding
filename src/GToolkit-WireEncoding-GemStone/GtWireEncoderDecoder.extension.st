Extension { #name : 'GtWireEncoderDecoder' }

{ #category : '*GToolkit-WireEncoding-GemStone' }
GtWireEncoderDecoder class >> defaultMap [

	^ SessionTemps current
		at: #gtGsWireEncodingDefaultMap
		ifAbsentPut: [ self getDefaultMap ]
]

{ #category : '*GToolkit-WireEncoding-GemStone' }
GtWireEncoderDecoder class >> defaultMapping [
	"The default mapping only encodes directly supported classes"
	| mapping |

	mapping := IdentityDictionary new.
	self map: ExecBlock withSubclassesTo: GtWireBlockClosureEncoder new in: mapping.
	self map: RsrService withSubclassesTo: GtWireGemStoneRsrEncoder new in: mapping.
	mapping
		at: Association put: GtWireAssociationEncoder new;
		at: Boolean put: GtWireBooleanEncoder new;
		at: ByteArray put: GtWireByteArrayEncoder new;
		at: String  put: GtWireStringEncoder new;
		at: DoubleByteString put: GtWireStringEncoder new;
		at: Unicode7 put: GtWireStringEncoder new;
		at: Unicode16 put: GtWireStringEncoder new;
		at: Unicode32 put: GtWireStringEncoder new;
		at: Symbol put: GtWireSymbolEncoder new;
		at: DoubleByteSymbol put: GtWireSymbolEncoder new;
		at: Character put: GtWireCharacterEncoder new;
		at: Array put: GtWireArrayEncoder new;
		at: Dictionary put: GtWireDictionaryEncoder new;
		at: OrderedCollection put: GtWireOrderedCollectionEncoder new;
		at: Set put: GtWireSetEncoder new;
		at: SmallInteger put: GtWireIntegerEncoder new;
		at: LargeInteger put: GtWireIntegerEncoder new;
		at: Float put: GtWireFloatEncoder new;
		at: SmallDouble put: GtWireFloatEncoder new;
		at: UndefinedObject put: GtWireNilEncoder new;
		at: DateAndTime put: GtWireDateAndTimeEncoder new;
		at: SmallDateAndTime put: GtWireDateAndTimeEncoder new.
	^ mapping
]

{ #category : '*GToolkit-WireEncoding-GemStone' }
GtWireEncoderDecoder class >> defaultReverseMap [

	^ SessionTemps current
		at: #gtGsWireEncodingDefaultReverseMap
		ifAbsentPut: [ self getDefaultReverseMap ]
]

{ #category : '*GToolkit-WireEncoding-GemStone' }
GtWireEncoderDecoder class >> getDefaultMap [
	"Generated by #generateDefaultMapMethodFrom:.
	Original source is #defaultMapping, changes should be made there and the code regenerated."

	^ IdentityDictionary new
		at: Array put: GtWireArrayEncoder new;
		at: Association put: GtWireAssociationEncoder new;
		at: Boolean put: GtWireBooleanEncoder new;
		at: ByteArray put: GtWireByteArrayEncoder new;
		at: Character put: GtWireCharacterEncoder new;
		at: DateAndTime put: GtWireDateAndTimeEncoder new;
		at: Dictionary put: GtWireDictionaryEncoder new;
		at: DoubleByteString put: GtWireStringEncoder new;
		at: DoubleByteSymbol put: GtWireSymbolEncoder new;
		at: ExecBlock put: GtWireBlockClosureEncoder new;
		at: ExecBlock0 put: GtWireBlockClosureEncoder new;
		at: ExecBlock1 put: GtWireBlockClosureEncoder new;
		at: ExecBlock2 put: GtWireBlockClosureEncoder new;
		at: ExecBlock3 put: GtWireBlockClosureEncoder new;
		at: ExecBlock4 put: GtWireBlockClosureEncoder new;
		at: ExecBlock5 put: GtWireBlockClosureEncoder new;
		at: ExecBlockN put: GtWireBlockClosureEncoder new;
		at: Float put: GtWireFloatEncoder new;
		at: LargeInteger put: GtWireIntegerEncoder new;
		at: OrderedCollection put: GtWireOrderedCollectionEncoder new;
		at: RsrPolicyRejectedService put: GtWireGemStoneRsrEncoder new;
		at: RsrPolicyRejectedServiceClient put: GtWireGemStoneRsrEncoder new;
		at: RsrPolicyRejectedServiceServer put: GtWireGemStoneRsrEncoder new;
		at: RsrReasonService put: GtWireGemStoneRsrEncoder new;
		at: RsrRemoteException put: GtWireGemStoneRsrEncoder new;
		at: RsrRemoteExceptionClient put: GtWireGemStoneRsrEncoder new;
		at: RsrRemoteExceptionServer put: GtWireGemStoneRsrEncoder new;
		at: RsrService put: GtWireGemStoneRsrEncoder new;
		at: Set put: GtWireSetEncoder new;
		at: SmallDateAndTime put: GtWireDateAndTimeEncoder new;
		at: SmallDouble put: GtWireFloatEncoder new;
		at: SmallInteger put: GtWireIntegerEncoder new;
		at: String put: GtWireStringEncoder new;
		at: Symbol put: GtWireSymbolEncoder new;
		at: UndefinedObject put: GtWireNilEncoder new;
		at: Unicode16 put: GtWireStringEncoder new;
		at: Unicode32 put: GtWireStringEncoder new;
		at: Unicode7 put: GtWireStringEncoder new;
		yourself.
]

{ #category : '*GToolkit-WireEncoding-GemStone' }
GtWireEncoderDecoder class >> getDefaultReverseMap [
	"Generated by #generateDefaultReverseMapMethodFrom:.
	Original source is #defaultMapping, changes should be made there and the code regenerated."

	^ IdentityDictionary new
		at: 1 put: GtWireNilEncoder new;
		at: 2 put: GtWireTrueEncoder new;
		at: 3 put: GtWireFalseEncoder new;
		at: 4 put: GtWireByteArrayEncoder new;
		at: 5 put: GtWireStringEncoder new;
		at: 6 put: GtWireSymbolEncoder new;
		at: 7 put: GtWireCharacterEncoder new;
		at: 8 put: GtWireArrayEncoder new;
		at: 9 put: GtWireDictionaryEncoder new;
		at: 10 put: GtWireOrderedCollectionEncoder new;
		at: 11 put: GtWireSetEncoder new;
		at: 12 put: GtWireDateAndTimeEncoder new;
		at: 13 put: GtWirePositiveIntegerEncoder new;
		at: 14 put: GtWireNegativeIntegerEncoder new;
		at: 15 put: GtWireAssociationEncoder new;
		at: 16 put: GtWireIntegerEncoder new;
		at: 17 put: GtWireFloatEncoder new;
		at: 19 put: GtWireStonEncoder new;
		at: 20 put: GtWireInstVarEncoder new;
		at: 21 put: GtWireBlockClosureEncoder new;
		at: 22 put: GtWireObjectByNameEncoder new;
		at: 23 put: GtWireGemStoneOopEncoder new;
		at: 24 put: GtWireGemStoneRsrEncoder new;
		yourself.
]
